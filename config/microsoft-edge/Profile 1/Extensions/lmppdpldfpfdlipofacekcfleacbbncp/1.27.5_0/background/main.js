/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={8623:(e,n,o)=>{function t(){const e=navigator.userAgent.match(/rv:(\d+)\./)?.[1];if(!e)return;const n=parseInt(e);return isNaN(n)?void 0:n}function a(){const e=navigator.userAgent.match(/Chrome\/(\d+)\./)?.[1];if(!e)return;const n=parseInt(e);return isNaN(n)?void 0:n}o.d(n,{P:()=>t,w:()=>a})}},n={};function o(t){var a=n[t];if(void 0!==a)return a.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.m=e,o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((n,t)=>(o.f[t](e,n),n)),[])),o.u=e=>"chunks/"+e+".js",o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.l=(e,n,o)=>{const t=("undefined"==typeof browser?chrome:browser).runtime.getURL(e);import(t).finally(n)},o.p="/",(()=>{var e={471:0};o.f.j=(n,t)=>{var a=o.o(e,n)?e[n]:void 0;if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(((o,t)=>a=e[n]=[o,t]));t.push(a[2]=i);var r=o.p+o.u(n),s=new Error;o.l(r,(t=>{if(o.o(e,n)&&(0!==(a=e[n])&&(e[n]=void 0),a)){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+n+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,a[1](s)}}),"chunk-"+n,n)}};var n=(n,t)=>{var a,i,[r,s,d]=t,c=0;if(r.some((n=>0!==e[n]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);d&&d(o)}for(n&&n(t);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},t=self.webpackChunkjump_cutter=self.webpackChunkjump_cutter||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),(()=>{const e="undefined"!=typeof browser?browser:chrome,n="local",t=e.storage[n];async function a(...e){return t.get(...e)}function i(n,o){e.action.setBadgeBackgroundColor({color:o}),e.action.setBadgeText({text:n})}function r(e,n){switch(e){case"soundedSpeed":return[n.toFixed(2),"#0d0"];case"silenceSpeedRaw":return[n.toFixed(2),"#d00"];case"volumeThreshold":return[n.toFixed(4),"#00d"];case"marginBefore":case"marginAfter":return[n.toFixed(3),"#333"];default:throw new Error}}function s(n){if("none"!==n.badgeWhatSettingToDisplayByDefault&&n.enabled){const e=n.badgeWhatSettingToDisplayByDefault;i(...r(e,n[e]))}else e.action.setBadgeText({text:""})}let d,c,p=-1;function u(e,n,o){i(e,n),clearTimeout(p),p=setTimeout(s,1500,o)}function l(n){const o="/icons/";let t,a;n.enabled?0===n.volumeThreshold?(t="icon-only-sounded.svg-64.png",a="icon-only-sounded.svg-128.png"):(t="icon.svg-64.png",a="icon.svg-128.png"):(t="icon-disabled.svg-64.png",a="icon-disabled.svg-128.png");const i=o+t,r=o+a;i!==d&&(e.action.setIcon({path:{64:i,128:r}}),d=i)}new WeakMap;const g=null!=(c=(0,o(8623).w)())&&c<128,m=navigator.userAgentData?.mobile??/Android|Mobile|iPhone|iPad|iPod/.test(navigator.userAgent),h={volumeThreshold:.005,marginBefore:0,marginAfter:.1},f={volumeThreshold:h.volumeThreshold,previousVolumeThreshold:.005,silenceSpeedSpecificationMethod:"relativeToSoundedSpeed",silenceSpeedRaw:2.5,previousSilenceSpeedRaw:2.5,soundedSpeed:1,previousSoundedSpeed:1,enabled:!0,marginBefore:h.marginBefore,previousMarginBefore:h.marginBefore,marginAfter:h.marginAfter,previousMarginAfter:h.marginAfter,experimentalControllerType:1,useSeparateMarginSettingsForDifferentAlgorithms:!0,algorithmSpecificSettings:{2:{volumeThreshold:.01,marginBefore:.05,marginAfter:.03},1:{...h}},applyTo:"videoOnly",omitMutedElements:!0,dontAttachToCrossOriginMedia:!0,enableHotkeys:!m,hotkeys:[{keyCombination:{code:"KeyX"},action:"rewind",actionArgument:5},{keyCombination:{code:"KeyC"},overrideWebsiteHotkeys:!0,action:"advance",actionArgument:5},{keyCombination:{code:"KeyS"},action:"sounded_speed-",actionArgument:.25},{keyCombination:{code:"KeyD"},action:"sounded_speed+",actionArgument:.25},{keyCombination:{code:"KeyA"},action:"sounded_speed_toggle",actionArgument:1},{keyCombination:{code:"KeyS",modifiers:["shiftKey"]},action:"silence_speed-",actionArgument:.25},{keyCombination:{code:"KeyD",modifiers:["shiftKey"]},action:"silence_speed+",actionArgument:.25},{keyCombination:{code:"KeyA",modifiers:["shiftKey"]},action:"silence_speed_toggle",actionArgument:2.5},{keyCombination:{code:"KeyW"},action:"volume_threshold-",actionArgument:.001},{keyCombination:{code:"KeyE"},action:"volume_threshold+",actionArgument:.001},{keyCombination:{code:"KeyQ"},action:"volume_threshold_toggle",actionArgument:0},{keyCombination:{code:"KeyW",modifiers:["shiftKey"]},action:"volume_threshold-",actionArgument:.01},{keyCombination:{code:"KeyE",modifiers:["shiftKey"]},action:"volume_threshold+",actionArgument:.01},{keyCombination:{code:"KeyZ"},action:"volume_threshold_toggle",actionArgument:0},{keyCombination:{code:"KeyZ"},action:"sounded_speed=",actionArgument:1}],popupDisableHotkeysWhileInputFocused:!0,popupAutofocusEnabledInput:!1,popupChartWidthPx:400,popupChartHeightPx:50,popupChartLengthInSeconds:8,popupChartJumpPeriod:0,popupChartSpeed:"soundedSpeedTime",popupAlwaysShowOpenLocalFileLink:!0,popupVolumeThresholdMin:0,popupVolumeThresholdMax:.05,popupVolumeThresholdStep:1e-4,popupSoundedSpeedMin:.25,popupSoundedSpeedMax:4,popupSoundedSpeedStep:.25,popupSilenceSpeedRawMin:1,popupSilenceSpeedRawMax:8,popupSilenceSpeedRawStep:.25,popupMarginBeforeMin:0,popupMarginBeforeMax:.5,popupMarginBeforeStep:.01,popupMarginAfterMin:0,popupMarginAfterMax:.5,popupMarginAfterStep:.01,popupSpecificHotkeys:[{keyCombination:{code:"Space"},action:"pause_toggle"},{keyCombination:{code:"ArrowLeft"},action:"rewind",actionArgument:5},{keyCombination:{code:"ArrowRight"},action:"advance",actionArgument:5},{keyCombination:{code:"ArrowUp"},action:"volume+",actionArgument:5},{keyCombination:{code:"ArrowDown"},action:"volume-",actionArgument:5}],timeSavedAveragingMethod:"exponential",timeSavedAveragingWindowLength:600,timeSavedExponentialAveragingLatestDataWeight:.95,badgeWhatSettingToDisplayByDefault:"soundedSpeed",enableDesyncCorrection:g,onPlaybackRateChangeFromOtherScripts:"updateSoundedSpeed"};function y(e,n){const o=e.modifiers??[],t=n.modifiers??[];return e.code===n.code&&o.length===t.length&&o.every((e=>t.includes(e)))}const S=[];S.push({ver:"1.3.0",fn:async function(){const n=["volumeThreshold","silenceSpeed","soundedSpeed"],o=await e.storage.sync.get(n);function t(e){return"silenceSpeed"===e?4:f[e]}for(const e of n){if(!(e in o))continue;const n=o[e];if("number"!=typeof n){const a=parseFloat(n);o[e]=Number.isFinite(a)&&a>0&&a<15?a:t(e)}}await e.storage.sync.set(o)}},{ver:"1.6.0",fn:async function(){const n=await e.storage.sync.get();await e.storage.local.set(n)}},{ver:"1.8.0",fn:async function(){const n=e.storage.local,{silenceSpeed:o,soundedSpeed:t,enableExperimentalFeatures:a}=await n.get({silenceSpeed:4,soundedSpeed:1.5,enableExperimentalFeatures:!0});let i=o/t;0<i&&i<=10||(i=2);const r={silenceSpeedSpecificationMethod:"relativeToSoundedSpeed",silenceSpeedRaw:i};!1===a&&(r.marginBefore=0),await n.remove(["silenceSpeed","enableExperimentalFeatures"]),await n.set(r)}},{ver:"1.10.0",fn:async function(){const n={popupDisableHotkeysWhileInputFocused:!0},{hotkeys:o}=await e.storage.local.get("hotkeys");if(o){const e=function(e){const n=[{keyCombination:{code:"KeyE"},action:"volume_threshold+",actionArgument:.001},{keyCombination:{code:"KeyW"},action:"volume_threshold-",actionArgument:.001}],o=[{keyCombination:{code:"KeyE",modifiers:["shiftKey"]},action:"volume_threshold+",actionArgument:.01},{keyCombination:{code:"KeyW",modifiers:["shiftKey"]},action:"volume_threshold-",actionArgument:.01}];function t(e,n){return e.action===n.action&&y(e.keyCombination,n.keyCombination)&&e.actionArgument===n.actionArgument&&(e.overrideWebsiteHotkeys??!1)==(e.overrideWebsiteHotkeys??!1)}const a=n.every((n=>e.some((e=>t(e,n))))),i=e.some((({keyCombination:e})=>o.some((({keyCombination:n})=>y(n,e)))));if(a&&!i){const a=e.findIndex((e=>t(e,n[1])));return e.splice(a+1,0,...o),!0}return!1}(o);e&&(n.hotkeys=o)}await e.storage.local.set(n)}}),S.push({ver:"1.16.7",fn:async function(){const{popupChartLengthInSeconds:n}=await e.storage.local.get("popupChartLengthInSeconds");if(void 0!==n){const o={popupChartLengthInSeconds:2*n};await e.storage.local.set(o)}}},{ver:"1.18.2",fn:async function(){const{popupSoundedSpeedMin:n,popupSoundedSpeedStep:o,soundedSpeed:t}=await e.storage.local.get(["popupSoundedSpeedMin","popupSoundedSpeedStep","soundedSpeed"]),a=o??f.popupSoundedSpeedStep,i={};0===n&&(i.popupSoundedSpeedMin=a),0===t&&(i.soundedSpeed=a),await e.storage.local.set(i)}},{ver:"1.18.3",fn:async function(){const{popupChartLengthInSeconds:n,soundedSpeed:o}=await e.storage.local.get(["popupChartLengthInSeconds","soundedSpeed"]),t={};Number.isFinite(n)||(t.popupChartLengthInSeconds=f.popupChartLengthInSeconds),void 0===o&&(t.soundedSpeed=f.soundedSpeed),await e.storage.local.set(t)}},{ver:"1.22.1",fn:async function(){const n={},{popupChartLengthInSeconds:o,popupChartJumpPeriod:t}=await e.storage.local.get({popupChartLengthInSeconds:8,popupChartJumpPeriod:0});let a=t/o*100;0<=a&&a<=100||(a=0),n.popupChartJumpPeriod=a,n.popupChartSpeed="soundedSpeedTime",await e.storage.local.set(n)}},{ver:"1.25.1",fn:async function(){const{updateSoundedSpeedWheneverItChangesOnWebsite:n}=await e.storage.local.get("updateSoundedSpeedWheneverItChangesOnWebsite");if(void 0!==n){const o={onPlaybackRateChangeFromOtherScripts:n?"updateSoundedSpeed":"prevent"};await Promise.all([e.storage.local.set(o),e.storage.local.remove("updateSoundedSpeedWheneverItChangesOnWebsite")])}}});const v=e.runtime.getManifest().version;let b;const w=new Promise((e=>b=e));e.storage.local.get("__lastHandledUpdateToVersion").then((({__lastHandledUpdateToVersion:e})=>{v===e&&b(!1)})),e.runtime.onInstalled.addListener((async n=>{["update","install"].includes(n.reason)&&("update"===n.reason&&await async function(e){const n=S.findIndex((({ver:n})=>function(e,n){const o=e.split("."),t=n.split(".");for(let e=0;e<3;e++){const n=parseInt(o[e])-parseInt(t[e]);if(0!==n)return n}return 0}(e,n)<=0)),o=-1===n?[]:S.splice(n);for(const{fn:e}of o)await e()}(n.previousVersion),await async function(){const e=t.get(),n={...f,...await e};await t.set(n)}(),e.storage.local.set({__lastHandledUpdateToVersion:v}),b(!0))})),e.commands?.onCommand?.addListener?.((async(...e)=>{await w,(async e=>{switch(e){case"toggle_enabled":{const{enabled:e}=await a("enabled");await async function(e){return t.set(e)}({enabled:!e});break}}})(...e)}));let C=(async()=>await w)();(async()=>{await w,setTimeout((()=>setTimeout((()=>{C=!1}))))})();const A=w.then((()=>a())),k=A.then((e=>{return s(n=e),void l(n);var n}));A.then((e=>{_(e)}));const T=(M=async e=>{const n=await A;Object.assign(n,function(e){const n={};for(const[o,t]of Object.entries(e))n[o]=t.newValue;return n}(e)),(e.experimentalControllerType||e.enabled)&&_(n),await k,function(e,n){l(e);const o=["soundedSpeed","silenceSpeedRaw","volumeThreshold","marginBefore","marginAfter"];for(const t of o){const o=n[t];if(o){u(...r(t,o.newValue),e);break}}(n.badgeWhatSettingToDisplayByDefault||n.enabled)&&s(e)}(n,e)},(e,o)=>{o===n&&M(e)});var M;async function _(n){const o=2===n.experimentalControllerType&&n.enabled;(await e.scripting.getRegisteredContentScripts({ids:[x]})).length>0!==o&&(o?await e.scripting.registerContentScripts([{id:x,matches:["http://*/*","https://*/*"],js:["content/cloneMediaSources-for-extension-world.js"],runAt:"document_start",persistAcrossSessions:!0,allFrames:!0,matchOriginAsFallback:!0}]):await e.scripting.unregisterContentScripts({ids:[x]}))}e.storage.onChanged.addListener((async(...e)=>{await C||await T(...e)}));const x="cloneMediaSources"})()})();